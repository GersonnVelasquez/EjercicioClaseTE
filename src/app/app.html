<div>
  <a routerLink="/home">Home</a>
  <a routerLink="/contacto">Contacto</a>
  <a routerLink="/historia">Historia</a>
</div>
<router-outlet />

<form (ngSubmit)="submitForm()" [formGroup]="personaForm">
  <label for="nombre">Nombre:</label>
  <input formControlName="nombre" type="text" id="nombre" />

  @if( (personaForm.get('nombre')?.dirty || personaForm.get('nombre')?.touched) &&
  personaForm.get('nombre')?.hasError('required') ){
  <span>El nombre es requerido.</span>
  }

  <label for="edad">Edad:</label>
  <input formControlName="edad" type="number" id="edad" />
  <label for="email">Email:</label>
  <input formControlName="email" type="email" id="email" />
  <button type="submit">
    @if(personaForm.get('id')?.value){ Actualizar Persona } @else { Agregar Persona }
  </button>
</form>

<table>
  <tr>
    <th>Nombre</th>
    <th>Edad</th>
    <th>Email</th>
    <th>Id</th>
    <th>Actions</th>
  </tr>
  @for (persona of personas; track $index) {
  <tr>
    <td>{{ persona.nombre }}</td>
    <td>{{ persona.edad }}</td>
    <td>{{ persona.email }}</td>
    <td>{{ persona.id }}</td>
    <td>
      <button (click)="editarPersona(persona)">Editar</button>
      <button (click)="borrarPersona(persona.id)">Eliminar</button>
    </td>
  </tr>
  }
</table>
